function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));class Popup{init(){this.elements=document.querySelectorAll("[data-popup-link]"),this.objects=[],this.elements.length>0&&document.addEventListener("click",(e=>this.actionPopupDocument(e,this)))}actionPopupDocument(e,t){const r=e.target,o=document.querySelectorAll("[data-popup].-anim");if(r.closest("[data-popup-link]")&&(e.preventDefault(),0===o.length)){const e=r.closest("[data-popup-link]"),o=document.querySelectorAll("[data-popup].-open");if(o.forEach((e=>e.classList.remove("-open"))),document.querySelector(`${e.dataset.popupLink}`)){const r=document.querySelector(`${e.dataset.popupLink}`);o.length>0?t.openPopup(r,!1):t.openPopup(r)}}if(r.closest("[data-popup-close]")&&(e.preventDefault(),0===o.length)){const e=r.closest("[data-popup-close]").closest("[data-popup]");t.closePopup(e)}if(r.closest("[data-popup]")&&!r.closest("[data-popup-content]")&&0===o.length){const e=r.closest("[data-popup]");t.closePopup(e)}}openPopup(e,t=!0){e.classList.add("-open"),e.classList.add("-anim"),setTimeout((()=>{e.classList.remove("-anim")}),400),t&&(this.actionPadding(),document.body.classList.add("-lock_popup"))}closePopup(e){e.classList.add("-anim"),e.classList.remove("-open"),setTimeout((()=>{this.actionPadding(!1),document.body.classList.remove("-lock_popup"),e.classList.remove("-anim")}),400)}actionPadding(e=!0){const t=[];t.push(document.body);const r=document.querySelectorAll(".-popup-padding");if(r.length>0&&r.forEach((e=>t.push(e))),e){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth;t.forEach((t=>{t.style.paddingRight=e+"px"}))}else t.forEach((e=>{e.style.paddingRight=""}))}}const popup=new Popup;popup.init();class ValidateForm{constructor(e,t){this.form=e,this.objUser=t,e.addEventListener("submit",(r=>this.formSend(r,this,e,t)))}async formSend(e,t,r,o){e.preventDefault();if(0===t.validateForm(r,o)){r.classList.add("-sending");new FormData(r);if((await fetch(o.url,{method:o.method})).ok?console.log("result"):console.log("Error"),r.reset(),o.items.input.length>0&&o.items.input.forEach((e=>{e.blur()})),r.querySelectorAll(".-custom-select")){r.querySelectorAll(".-custom-select").forEach((e=>e.reset()))}r.classList.remove("-sending")}else console.log("Emptly")}validateForm(e,t){let r=0;for(const e in t.items){const o=t.items[e];if("input"==e&&o.length>0&&o.forEach((e=>{this.removeError(e),e.classList.contains("-tel")?this.telTest(e)&&(this.addError(e),r++):e.classList.contains("-email")?this.emailTest(e)&&(this.addError(e),r++):e.value||(this.addError(e),r++)})),"checkbox"==e&&o.length>0&&o.forEach((e=>{this.removeError(e),e.checked||(this.addError(e),r++)})),"radio"==e&&o.length>0){const e={};o.forEach((t=>{e[t.name]||(e[t.name]=[]),e[t.name].push(t)}));for(const t in e){const o=e[t],s=Array.from(o).filter((e=>e.checked))[0];o.forEach((e=>{this.removeError(e)})),s||o.forEach((e=>{this.addError(e),r++}))}}"select"==e&&o.length>0&&o.forEach((e=>{e.classList.remove("-error"),e.classList.contains("-custom-select-no-choose")&&(e.classList.add("-error"),r++)}))}return r}removeError(e){e.parentElement.classList.remove("-error"),e.classList.remove("-error");const t=e.closest("form");t.classList.contains("-error")&&t.classList.remove("-error")}addError(e){e.parentElement.classList.add("-error"),e.classList.add("-error");const t=e.closest("form");t.classList.contains("-error")||t.classList.add("-error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}const inputsValue=document.querySelectorAll("[data-value]");inputsValue.length>0&&inputsValue.forEach((e=>{const t=e.dataset.value;e.value||(e.placeholder=t),e.addEventListener("focus",(()=>{e.placeholder=""})),e.addEventListener("blur",(()=>{e.placeholder=t}))}));class CustomScroll{init(){if(this.elements=document.querySelectorAll("[data-custom-scroll]"),this.objects=[],this.elements.length>0)for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r={};r.el=t,r.content=r.el.querySelector("[data-custom-scroll-content]"),r.el.insertAdjacentHTML("afterbegin","<div data-custom-scroll-wrap></div>"),r.wrap=r.el.querySelector("[data-custom-scroll-wrap]"),r.wrap.insertAdjacentElement("afterbegin",r.content),r.scroll=[],r.scroll.scrollerBeingDragged=!1,r.scroll.contentPosition=0,this.objects.push(r)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e];this.createScroller(t),t.wrap.addEventListener("scroll",(e=>this.moveScroller(t)));const r=this;t.el.update=function(){const e=t.el.offsetHeight/t.wrap.scrollHeight*t.el.offsetHeight,o=t.el.querySelector("[data-custom-scroll-scrollbar]");e/t.content.offsetHeight<1?o?(t.scroll.scroller.style.height=e+"px",r.moveScroller(t)):r.createScroller(t):o&&o.remove()}}}createScroller(e,t=!0){const r=e.el.offsetHeight/e.wrap.scrollHeight*e.el.offsetHeight;if(r/e.content.offsetHeight<1){e.el.insertAdjacentHTML("beforeend","<div data-custom-scroll-scrollbar><div data-custom-scroll-scroller></div></div>"),e.scroll.scrollBar=e.el.querySelector("[data-custom-scroll-scrollbar]"),e.scroll.scroller=e.el.querySelector("[data-custom-scroll-scroller]");const o=e.scroll.scroller;o.style.height=r+"px",e.wrap.style.paddingRight=o.offsetWidth+"px",t&&(o.addEventListener("mousedown",(t=>this.startDrag(t,e))),window.addEventListener("mouseup",(t=>this.stopDrag(t,e))),window.addEventListener("mousemove",(t=>this.scrollBarScroll(t,e))))}}startDrag(e,t){t.scroll.normalizedPosition=e.pageY,t.scroll.contentPosition=t.wrap.scrollTop,t.scroll.scrollerBeingDragged=!0}stopDrag(e,t){t.scroll.scrollerBeingDragged=!1}scrollBarScroll(e,t){if(!0===t.scroll.scrollerBeingDragged){const r=(e.pageY-t.scroll.normalizedPosition)*(t.wrap.scrollHeight/t.el.offsetHeight);t.wrap.scrollTop=t.scroll.contentPosition+r}}moveScroller(e){const t=e.wrap.scrollTop/e.wrap.scrollHeight*e.el.offsetHeight;e.scroll.scroller.style.top=t+"px"}}const customScroll=new CustomScroll;customScroll.init(),document.addEventListener("click",actionDocument);const header=document.querySelector(".header");function actionDocument(e){const t=e.target;if(t.closest(".burger-header")){const e=t.closest(".burger-header"),r=document.querySelector(".menu");e.classList.toggle("-active"),r.classList.toggle("-open"),header.classList.toggle("-active"),document.body.classList.toggle("-lock")}if(t.closest(".-to-cart")){e.preventDefault();const r=t.closest(".-to-cart");r.classList.add("-hold"),updateCart(r);document.querySelector(".cart-popup__items").update()}if(t.closest(".item-cart__delete")){e.preventDefault();updateCart(t.closest(".item-cart__delete"),!1);document.querySelector(".cart-popup__items").update()}}function updateCart(e,t=!0){if(t){if(document.querySelector(".cart-header__quantity")){document.querySelector(".cart-header__quantity").innerHTML++}else{document.querySelector(".cart-header").insertAdjacentHTML("beforeend",'<span class="cart-header__quantity">1</span>')}const t=e.closest("[data-pid]"),r=t.dataset.pid,o=document.querySelector(".cart-popup__list");if(o.querySelector(`li[data-cart-pid="${r}"]`)){o.querySelector(`li[data-cart-pid="${r}"]`).querySelector(".item-cart__quantity span").innerHTML++}else{const e=t.querySelector("[data-product-image]").innerHTML,s=t.querySelector("[data-product-title]").textContent,l=(t.querySelector("[data-product-price]").textContent,`<a href="" class="item-cart__image -ai">${e}</a>`+('<div class="item-cart__body">'+`<a href="" class="item-cart__title">${s}</a>`+'<div class="item-cart__quantity">Quantity: <span>1</span></div>'+'<a href="" class="item-cart__delete">Delete</a>'+"</div>"));o.insertAdjacentHTML("beforeend",`<li data-cart-pid="${r}" class="cart-header__item item-cart">${l}</li>`)}e.classList.remove("-hold")}else{const t=e.closest(".item-cart"),r=t.querySelector(".item-cart__quantity span");r.innerHTML--;const o=document.querySelector(".cart-header__quantity");o.innerHTML--,Math.abs(r.innerHTML)||t.remove(),Math.abs(o.innerHTML)||o.remove();if(0===document.querySelectorAll(".cart-popup__list li[data-cart-pid]").length){document.querySelector(".cart-popup__close").click();document.querySelector(".cart-header").classList.remove("-active")}}}window.addEventListener("resize",(()=>{document.querySelector(".cart-popup__items").update()}));const mainSlider=new Swiper(".main-slider__body",{navigation:{prevEl:".slider-arrows__arrow_prev",nextEl:".slider-arrows__arrow_next"},speed:600,watchOverflow:!1,autoplay:{delay:4e3,stopOnLastSlide:!1,disableOnInteraction:!1}}),projectsSlider=new Swiper(".slider-projects__body",{navigation:{prevEl:".slider-projects__arrow_prev",nextEl:".slider-projects__arrow_next"},watchOverflow:!1,breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},575.98:{slidesPerView:2,slidesPerGroup:2},991.98:{slidesPerView:3,slidesPerGroup:3},1205:{slidesPerView:4,slidesPerGroup:4}}}),formSearch=document.querySelector(".form-search");formSearch&&new ValidateForm(formSearch,{method:"GET",url:"",items:{input:formSearch.querySelectorAll('input[type="text"].-req')}});const formNewsletter=document.querySelector(".form-newsletter");formNewsletter&&new ValidateForm(formNewsletter,{method:"GET",url:"",items:{input:formNewsletter.querySelectorAll('input[type="text"].-req')}});